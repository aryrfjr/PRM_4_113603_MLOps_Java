<h2>Pre-Deployment Exploitation</h2>

<div class="exploration-container">
  <!-- Dropdowns -->
  <label for="composition-select">Select Nominal Composition:</label>
  <select
    id="composition-select"
    [(ngModel)]="selectedNominalCompositionId"
    (ngModelChange)="onNominalCompositionSelected($event)"
  >
    <option *ngFor="let comp of allNominalCompositions" [value]="comp.id">
      {{ comp.name }}
    </option>
  </select>

  <label for="run-select">Select Run #:</label>
  <select
    id="run-select"
    [(ngModel)]="selectedNominalCompositionRunId"
    (ngModelChange)="onRunSelected($event)"
  >
    <option
      *ngFor="let run of allSelectedNominalCompositionRuns"
      [value]="run.id"
    >
      {{ run.run_number }}
    </option>
  </select>

  <!-- Tabs -->
  <div class="tabs">
    <button
      [class.active]="uiState.isTabScheduleActive"
      (click)="activeTab = 'tab1'"
    >
      Schedule sub-Runs
    </button>
    <button [class.active]="uiState.isTabViewActive" (click)="activateTab2()">
      View all scheduled sub-Runs
    </button>
  </div>

  <!-- Tab "View all scheduled sub-Runs" -->
  <div *ngIf="uiState.isTabViewActive">
    <p *ngIf="uiState.suggestRunSelection">
      Select a Nominal Composition and then a Run #.
    </p>

    <sub-runs-data-table
      *ngIf="uiState.displaySubRunsTable"
      [selectedRunId]="selectedNominalCompositionRunId"
      [selectedRunNumber]="selectedNominalCompositionRunNumber"
    ></sub-runs-data-table>
  </div>
</div>
