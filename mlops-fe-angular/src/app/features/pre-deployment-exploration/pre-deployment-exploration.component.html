<h2>Pre-Deployment Exploration</h2>

<div class="exploration-container">
  <!-- Dropdown -->
  <label for="composition-select">Select Nominal Composition:</label>
  <select
    id="composition-select"
    [(ngModel)]="selectedCompositionId"
    (ngModelChange)="onCompositionSelected($event)"
  >
    <option *ngFor="let comp of compositions" [value]="comp.id">
      {{ comp.name }}
    </option>
  </select>

  <!-- Tabs -->
  <div class="tabs">
    <button [class.active]="activeTab === 'tab1'" (click)="activeTab = 'tab1'">
      Schedule calculations runs
    </button>
    <button [class.active]="activeTab === 'tab2'" (click)="activateTab2()">
      View all scheduled runs
    </button>
  </div>

  <!-- Tab Schedule calculations runs -->
  <div *ngIf="activeTab === 'tab1'">
    <label for="calc-count">Number of Calculations:</label>
    <div class="counter">
      <button (click)="decrement()">âˆ’</button>
      <input type="number" [value]="nRunsToSchedule" readonly />
      <button (click)="increment()">+</button>
    </div>
  </div>

  <!-- 

  View all scheduled runs
  
  TODO: *ngIf="runs.length > 0; else noRuns" was in <table> ... extract to generic table such a behavior? 

  <ng-template #noRuns>
      <p>No runs available for the selected nominal composition.</p>
  </ng-template>
  -->

  <div *ngIf="activeTab === 'tab2'">
    <h3>
      All Runs that have already been scheduled for that Nominal Composition
    </h3>
    <data-table
      [columns]="runsTableColumns"
      [data]="runsTableData"
      [rowKeyColumn]="runSelectedKey"
      [selectedRowKeyValue]="selectedRunNumber"
      (rowSelected)="selectRunRow($event)"
    >
    </data-table>
  </div>
</div>
